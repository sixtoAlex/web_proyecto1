<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SportApz - Tienda Deportiva</title>
<link rel="stylesheet" href="styles3.css">
</head>

<body>

<header>
    <div style="
        display: flex;
        align-items: center;
        /* Alinea el contenido al inicio y empuja el segundo elemento (el t√≠tulo) lo m√°s lejos posible */
        justify-content: flex-start; 
        gap: 15px;
        max-width: 1100px;
        margin: auto;
        padding: 10px;
    ">
        <img src="logo11.png" alt="Logo SportApz" style="height: 60px; border-radius: 10px;">
        
        <a href="index 1.html" style="text-decoration: none; color: white; margin-left: auto;">
            <h1 style="font-size: 26px; margin: 0;">SportApz - Tienda Deportiva</h1>
        </a>
    </div>
</header>


<nav>
    <ul>
        <li><a href="index 1.html">Inicio</a></li> 
        <li><a href="#deportivos">Conjuntos Deportivos</a></li>
        <li><a href="#carrito">Carrito</a></li>
    </ul>
</nav>

<main>

<section id="deportivos">
    <h2>Conjuntos Deportivos</h2>
    <div class="productos">
        <div class="card">
            <img src="conjunto1.png" alt="Conjunto Sprint Pro">
            <h3>Conjunto Sprint Pro</h3>
            <p>Bs. 350</p>
            <a class="boton-comprar" data-nombre="Conjunto Sprint Pro" data-precio="350">A√±adir</a>
        </div>
        <div class="card">
            <img src="conjunto2.png" alt="Conjunto Ultra Fit">
            <h3>Conjunto Ultra Fit</h3>
            <p>Bs. 370</p>
            <a class="boton-comprar" data-nombre="Conjunto Ultra Fit" data-precio="370">A√±adir</a>
        </div>
        <div class="card">
            <img src="conunto5.png" alt="Conjunto Dynamic">
            <h3>Conjunto Dynamic</h3>
            <p>Bs. 340</p>
            <a class="boton-comprar" data-nombre="Conjunto Dynamic" data-precio="340">A√±adir</a>
        </div>
        <div class="card">
            <img src="conjunto6.png" alt="Conjunto Power">
            <h3>Conjunto Power</h3>
            <p>Bs. 360</p>
            <a class="boton-comprar" data-nombre="Conjunto Power" data-precio="360">A√±adir</a>
        </div>
        <div class="card">
            <img src="cojunto4.png" alt="Conjunto Flex">
            <h3>Conjunto Flex</h3>
            <p>Bs. 330</p>
            <a class="boton-comprar" data-nombre="Conjunto Flex" data-precio="330">A√±adir</a>
        </div>
        <div class="card">
            <img src="conunto3.png" alt="Conjunto Velocity">
            <h3>Conjunto Velocity</h3>
            <p>Bs. 350</p>
            <a class="boton-comprar" data-nombre="Conjunto Velocity" data-precio="350">A√±adir</a>
        </div>
    </div>
</section>

<section id="carrito">
    <h2>Carrito de Compras</h2>
    <ul id="lista-carrito">
        <li>No hay productos a√±adidos.</li>
    </ul>
    <p id="total-carrito"></p>
    
    <div id="resumen-carrito" style="margin-top: 20px;">
        <a id="boton-vaciar" style="background: #dc3545; color: white; padding: 10px 15px; border-radius: 5px; cursor: pointer; text-decoration: none; margin-right: 10px; display: inline-block;">Vaciar Carrito</a>
        <a id="boton-comprar-final" style="background: #28a745; color: white; padding: 10px 15px; border-radius: 5px; cursor: pointer; text-decoration: none; display: inline-block;">Finalizar Compra</a>
    </div>
</section>

</main>

<footer>
    <p>¬© 2025 SportApz - Tienda Deportiva</p>
    <div class="footer-info">
        <p><b>Contacto:</b> sportapz@gmail.com | +591 777-12345</p>
        <p><b>Ubicaci√≥n:</b> La Paz - Bolivia</p>
        <p><b>Redes Sociales:</b> Facebook | Instagram | TikTok</p>
    </div>
</footer>

<script>
    // 1. Inicializa el carrito leyendo desde localStorage
let carrito = JSON.parse(localStorage.getItem("carrito")) || [];

const botonesComprar = document.querySelectorAll('.boton-comprar');
const listaCarrito = document.getElementById('lista-carrito');
const totalCarritoElemento = document.getElementById('total-carrito');
const botonVaciar = document.getElementById('boton-vaciar');
const botonComprarFinal = document.getElementById('boton-comprar-final');
const resumenCarrito = document.getElementById('resumen-carrito');

// ------ FUNCI√ìN PARA MOSTRAR MENSAJES FLOTANTES ------
function mostrarMensaje(texto, colorFondo) {
    const msg = document.createElement("div");
    msg.textContent = texto;
    msg.style.cssText = `position: fixed; top: 20px; right: 20px; background: ${colorFondo}; padding: 10px 15px; color: white; border-radius: 6px; box-shadow: 0 3px 6px rgba(0,0,0,0.3); z-index: 1000;`;
    document.body.appendChild(msg);

    setTimeout(() => msg.remove(), 1500);
}

// ------ CALCULAR TOTAL ------
function calcularTotal() {
    const total = carrito.reduce((sum, p) => sum + p.precio, 0);
    totalCarritoElemento.textContent = `Total: Bs. ${total.toFixed(2)}`;
    return total;
}

// ------ ELIMINAR PRODUCTO individualmente ------
function eliminarProducto(index) {
    const nombreProducto = carrito[index].nombre;
    
    // Elimina 1 elemento en la posici√≥n 'index'
    carrito.splice(index, 1);
    
    // Actualiza el almacenamiento y la vista
    localStorage.setItem("carrito", JSON.stringify(carrito));
    actualizarCarrito();
    
    // MUESTRA MENSAJE DE ELIMINACI√ìN
    mostrarMensaje(`‚ùå ${nombreProducto} eliminado`, '#dc3545'); // Rojo
}

// ------ ACTUALIZAR VISTA DEL CARRITO (MODIFICADA) ------
function actualizarCarrito() {
    calcularTotal(); 
    
    if (carrito.length === 0) {
        listaCarrito.innerHTML = '<li>No hay productos a√±adidos.</li>';
        resumenCarrito.style.display = 'none';
        return;
    }
    
    resumenCarrito.style.display = 'block';

    // Genera la lista de productos con bot√≥n de eliminar estilizado como bot√≥n
    listaCarrito.innerHTML = carrito
        .map((p, i) => {
            return `
                <li style="display: flex; justify-content: space-between; align-items: center; padding: 5px 0;">
                    <span>${p.nombre} - Bs. ${p.precio.toFixed(2)}</span>
                    <a href="#" class="boton-eliminar-item" data-indice="${i}" 
                       style="background: #dc3545; color: white; padding: 3px 8px; border-radius: 4px; cursor: pointer; text-decoration: none; font-size: 0.8em; margin-left: 10px;">
                       Eliminar
                    </a>
                </li>
            `;
        })
        .join("");

    // Asigna el evento click a los botones de eliminar reci√©n creados
    document.querySelectorAll(".boton-eliminar-item").forEach(boton => {
        boton.addEventListener("click", (e) => {
            e.preventDefault();
            const index = parseInt(e.target.getAttribute("data-indice"));
            eliminarProducto(index);
        });
    });
}

// ------ L√ìGICA DE A√ëADIR PRODUCTO ------
botonesComprar.forEach(boton => {
    boton.addEventListener('click', () => {
        const nombre = boton.dataset.nombre;
        const precio = parseFloat(boton.dataset.precio);

        carrito.push({ nombre, precio });
        localStorage.setItem("carrito", JSON.stringify(carrito));
        
        // MUESTRA MENSAJE DE A√ëADIR
        mostrarMensaje(`‚úî ${nombre} a√±adido`, '#0a84ff'); // Azul

        actualizarCarrito();
    });
});

// ------ VACIAR CARRITO completo ------
botonVaciar.addEventListener("click", () => {
    if (confirm("¬øEst√°s seguro de que deseas vaciar todo el carrito?")) {
        carrito = [];
        localStorage.setItem("carrito", JSON.stringify(carrito));
        actualizarCarrito();
        mostrarMensaje("üõí Carrito vaciado", '#dc3545');
    }
});

// ------ FINALIZAR COMPRA ------
botonComprarFinal.addEventListener("click", () => {
    if (carrito.length > 0) {
        const total = calcularTotal().toFixed(2);
        alert(`¬°Gracias por tu compra en SportApz! Tu total a pagar es: Bs. ${total}`);
        
        // Vac√≠a el carrito despu√©s de la compra
        carrito = [];
        localStorage.setItem("carrito", JSON.stringify(carrito));
        actualizarCarrito();
    } else {
        alert("Tu carrito est√° vac√≠o. A√±ade productos para finalizar la compra.");
    }
});


// ------ INICIALIZAR LA VISTA AL CARGAR LA P√ÅGINA ------
actualizarCarrito();
</script>

</body>
</html>


